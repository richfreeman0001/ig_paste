<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>IG 貼文排版神器 | Instagram 空行轉換器 (免安裝)</title>
    <meta name="description" content="IG 發文總是文字擠在一起？這款免費線上工具能自動加入隱形空白符號，解決 Instagram 吃字問題。">

    <meta property="og:image" content="images/preview.jpg">

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" href="images/icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
</head>
<body class="flex flex-col min-h-screen bg-gray-50">

    <div class="bg-white shadow-sm sticky top-0 z-10">
        <div class="max-w-md mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="font-bold text-xl tracking-tight gradient-text font-serif italic">InstaSpacer</h1>
            <div class="text-xs text-gray-400 border border-gray-200 rounded-full px-2 py-1">v1.0</div>
        </div>
    </div>

    <div class="flex-1 max-w-md mx-auto w-full p-4 flex flex-col">

        <div class="ad-slot mb-4">
            <span class="text-gray-400 text-xs">廣告預留位 (Top Banner)</span>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-100 flex-1 flex flex-col overflow-hidden relative min-h-[220px]">
            <textarea id="input" class="flex-1 w-full p-4 resize-none focus:outline-none text-base leading-relaxed text-gray-800 placeholder-gray-300"
            placeholder="在此輸入貼文...

範例：
第一行內容
(空一行)
第二行內容

轉換後 IG 就不會吃掉空行囉！"></textarea>

            <div class="absolute bottom-2 right-4 text-xs text-gray-400 bg-white/90 px-2 py-1 rounded-md">
                <span id="count">0</span> 字
            </div>
        </div>

        <div class="mt-4 grid grid-cols-4 gap-3">
            <button onclick="clearText()" class="col-span-1 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl py-3 font-medium transition active:scale-95 flex flex-col items-center justify-center gap-1">
                <i class="fa-solid fa-trash-can text-sm"></i>
                <span class="text-xs">清空</span>
            </button>
            <button onclick="convertAndCopy()" class="col-span-3 gradient-bg text-white rounded-xl py-3 font-bold shadow-lg shadow-pink-500/30 transition active:scale-95 flex items-center justify-center gap-2">
                <i class="fa-solid fa-wand-magic-sparkles"></i>
                轉換並複製
            </button>
        </div>

        <div class="mt-6 space-y-4">
            <div class="bg-blue-50 border border-blue-100 rounded-lg p-4 text-xs text-blue-800 leading-5">
                <p><strong>💡 秒懂原理：</strong>我們會在空行中插入「隱形符號」，讓 Instagram 認為那一行有字。</p>
            </div>
            <div class="bg-white p-2 rounded-xl shadow-sm border border-gray-100">
                <img src="images/preview.jpg" alt="IG 貼文排版前後對比" class="w-full h-auto rounded-lg shadow-sm" loading="lazy">
                <p class="text-center text-[10px] text-gray-400 mt-2">▲ 實際效果範例</p>
            </div>
        </div>

        <div class="ad-slot mt-4">
             <span class="text-gray-400 text-xs">廣告預留位 (Bottom Rect)</span>
        </div>

    </div>

    <footer class="text-center py-6 text-gray-300 text-xs">
        Designed for Creators © 2025
    </footer>

    <div id="toast" class="toast hidden">
        <i class="fa-solid fa-check-circle text-3xl text-green-400"></i>
        <div class="font-bold">複製成功！</div>
        <div class="text-xs text-gray-300">快去 Instagram 貼上吧</div>
    </div>

    <div id="ios-prompt" class="hidden fixed bottom-6 left-4 right-4 bg-white/95 backdrop-blur rounded-2xl p-5 shadow-2xl border border-gray-200 z-50 transition-all duration-500 translate-y-20 opacity-0">
        <button onclick="closeIosPrompt()" class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 p-2"><i class="fa-solid fa-times"></i></button>
        <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-white text-xl shadow-lg shrink-0"><i class="fa-solid fa-pencil"></i></div>
            <div class="flex-1">
                <h3 class="font-bold text-gray-800 text-sm mb-1">安裝到主畫面</h3>
                <p class="text-xs text-gray-500 leading-relaxed">點擊下方 <span class="inline-block px-1"><i class="fa-solid fa-arrow-up-from-bracket text-blue-500"></i></span> 分享按鈕，選擇 <span class="font-bold text-gray-700">「加入主畫面」</span> 以便下次使用。</p>
            </div>
        </div>
        <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-4 h-4 bg-white rotate-45 border-b border-r border-gray-200"></div>
    </div>

    <script src="js/script.js"></script>

    <script>
        // PWA 註冊
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('PWA OK'))
                    .catch(err => console.log('PWA Fail', err));
            });
        }
    </script>
</body>
</html>